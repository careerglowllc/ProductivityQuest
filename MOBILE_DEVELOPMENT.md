# ProductivityQuest - Mobile Development with Capacitor

This document explains how to develop and build the iOS version of ProductivityQuest using Capacitor.

## Prerequisites

1. **Xcode**: Install from the Mac App Store
2. **Xcode Command Line Tools**: Run `xcode-select --install`
3. **CocoaPods**: Run `sudo gem install cocoapods` (if not already installed)

## Project Structure

The mobile-specific files are located in:
- `capacitor.config.ts` - Capacitor configuration
- `ios/` - iOS project files (generated by Capacitor)

## Development Workflow

### 1. Making Changes to Your React App

When you make changes to your React app in the `client/` directory, you need to rebuild and sync:

```bash
npm run cap:sync
```

This command:
- Builds your React app with Vite (`npm run build:mobile`)
- Copies the web assets to the iOS project
- Updates iOS plugins and dependencies

### 2. Opening in Xcode

To open your project in Xcode:

```bash
npm run cap:open:ios
```

Or run the full build, sync, and open workflow:

```bash
npm run cap:run:ios
```

### 3. Available Scripts

- `npm run build:mobile` - Build the React app for mobile
- `npm run cap:sync` - Build and sync with iOS
- `npm run cap:open:ios` - Open iOS project in Xcode
- `npm run cap:run:ios` - Build, sync, and open in Xcode

## iOS Development

### App Configuration

The app is configured with:
- **App ID**: `com.productivityquest.app`
- **App Name**: ProductivityQuest
- **Bundle ID**: You may need to change this in Xcode for signing

### Building for Device/App Store

1. Open the project in Xcode: `npm run cap:open:ios`
2. Select your development team in the "Signing & Capabilities" tab
3. Choose your target device or "Generic iOS Device" for App Store
4. Build and run or archive for distribution

### Common Tasks

#### Adding Capacitor Plugins

To add native functionality:

```bash
npm install @capacitor/[plugin-name]
npm run cap:sync
```

Popular plugins:
- `@capacitor/camera` - Camera access
- `@capacitor/geolocation` - Location services  
- `@capacitor/push-notifications` - Push notifications
- `@capacitor/local-notifications` - Local notifications

#### Updating App Icons and Splash Screens

1. Place your app icons in `ios/App/App/Assets.xcassets/AppIcon.appiconset/`
2. Place splash screen images in `ios/App/App/Assets.xcassets/Splash.imageset/`
3. Run `npm run cap:sync`

#### Debugging

- Use Chrome DevTools for web debugging: Open `chrome://inspect` in Chrome
- Use Xcode's console and debugger for native iOS issues
- Use Safari's Web Inspector when running on device/simulator

## Troubleshooting

### Common Issues

1. **Build fails**: Make sure you've run `npm run cap:sync` after making changes
2. **Pod install fails**: Try `cd ios && pod install --repo-update`
3. **Signing issues**: Configure your Apple Developer account in Xcode
4. **Plugin not working**: Ensure plugin is installed and synced properly

### Clean Build

If you encounter persistent issues:

```bash
# Clean iOS build
rm -rf ios/
npm run cap:add:ios
npm run cap:sync
```

## Next Steps

1. Configure app signing with your Apple Developer account
2. Test on physical iOS device
3. Add native plugins as needed for your app's functionality
4. Prepare for App Store submission when ready

For more information, visit the [Capacitor Documentation](https://capacitorjs.com/docs).